import{w,N as s,h,D,f as g,g as N,A as Z,r as W,m as $,R as _,a as m,E as T,d as l,q as j,_hW as k}from"./q-dgQLQ9M1.js";import{_ as c}from"./q-BKZ00VYc.js";import{A as B}from"./q-H4FRfKr8.js";import{S as V,a as U,C as G}from"./q-CsEAOIfQ.js";import{c as F}from"./q-BBrEzD_g.js";import{a as K,u as q}from"./q-BuauhHiJ.js";const Te=w(s(()=>c(()=>Promise.resolve().then(()=>ne),void 0),"s_mszTFeVhYls")),M=w(s(()=>c(()=>import("./q-CKm7X9SI.js").then(e=>e.D),[]),"s_8u1bOtTdwZg")),C=w(s(()=>c(()=>import("./q-B0bDRklR.js"),[]),"s_GXIV6Bg0ufc"));let A;function Oe(){A&&clearTimeout(A);const{classList:e}=document.documentElement;e.add("disable-transitions"),A=setTimeout(()=>e.remove("disable-transitions"),500)}function z(e,t){window.umami?.track(e,t)}const Y=({track:e,cleanup:t})=>{const[a,n,i,r,v,u]=h(),d=e(i);if(n.value=!1,d){const b=u.value[d];if(b&&b.expires>=Date.now())a.value=b.result.length?0:-1,v.value=b.result,r.value=!1;else{const y=setTimeout(async()=>{try{const f=await(await fetch("https://B90T8F2PFG-dsn.algolia.net/1/indexes/valibot/query",{method:"POST",headers:{"X-Algolia-Application-Id":"B90T8F2PFG","X-Algolia-API-Key":"ccdb9a38bd679cb82c879625d31d15ae","Content-Type":"application/json"},body:JSON.stringify({query:d,filters:"NOT type:lvl1"})})).json();let x;const E=f.hits.map(p=>{const P=p.url.replace("https://valibot.dev",""),I={group:`${p.hierarchy.lvl0}${p.hierarchy.lvl1?`: ${p.hierarchy.lvl1}`:""}`,relation:p.type==="lvl2"?"page":x&&x.relation!=="none"&&x.path.split("#")[0]===P.split("#")[0]?"child":"none",type:p.type,page:p._highlightResult.hierarchy.lvl2.value,text:p.type==="content"?p._snippetResult.content.value:p._highlightResult.hierarchy[p.type].value,path:P};return x=I,I});u.value={...u.value,[d]:{result:E,expires:Date.now()+6048e5}},d===i.value&&(a.value=0,v.value=E,r.value=!1)}catch{n.value=!0}},150);r.value=!0,t(()=>clearTimeout(y))}}else a.value=0,v.value=[],r.value=!1},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_5EifRUcMFx0:Y},Symbol.toStringTag,{value:"Module"})),J=e=>{const[t,a,n]=h();e.path===a.url.pathname&&(n.open.value=!1),t.value=e},Q=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_zVNN0N9sdCk:J},Symbol.toStringTag,{value:"Module"})),X=()=>{const[e]=h();return e.value.focus()},ee=Object.freeze(Object.defineProperty({__proto__:null,s_FdcA446WEUQ:X},Symbol.toStringTag,{value:"Module"})),te=({track:e})=>{const[t,a,n,i,r,v,u]=h();if(e(i),e(r.open),i.value)if(r.open.value)i.value.focus(),document.body.style.overflow="hidden",z("open_search");else{const d=a.value;d&&(v.value=[d,...v.value.filter(b=>b!==d).slice(0,5)],z("select_search_item",{input:n.value,path:d.path})),n.value="",t.value=0,u.value=[],a.value=null,document.body.style.overflow=""}},le=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_WXbLIM6pEE8:te},Symbol.toStringTag,{value:"Module"}));function oe(e,t){D(s(()=>c(()=>import("./q-CsumCdPm.js"),[]),"s_ZVoHBUnSN0w",[t,e]))}function Ae(e,t=1e3){const a=g(e);return D(s(()=>c(()=>import("./q-DA-o2r1i.js"),[]),"s_AVI45OyPfa4",[t,e,a])),a}function L(e,t){const a=g(t);return N(s(()=>c(()=>import("./q-DRWpHGnF.js").then(n=>n.u),[]),"s_kh69PHOtGzY",[e,a])),D(s(()=>c(()=>import("./q-DRWpHGnF.js").then(n=>n.a),[]),"s_YgdZGnP0yFw",[e,a])),a}const ae=e=>{Z();const t=K(),a=q(),n=g(""),i=g(!1),r=g(0),v=g(!1),u=g(),d=g(),b=L("search-index",{}),y=L("search-recent",[]),f=g([]),x=g(null),E=W(s(()=>c(()=>Promise.resolve().then(()=>pe),void 0),"s_zD743Md25bk",[n,y,f]));oe(u,e.open),D(s(()=>c(()=>Promise.resolve().then(()=>le),void 0),"s_WXbLIM6pEE8",[r,x,n,d,e,y,f])),D(s(()=>c(()=>Promise.resolve().then(()=>ye),void 0),"s_YNAF6jBbv9M",[t,e])),D(s(()=>c(()=>Promise.resolve().then(()=>H),void 0),"s_5EifRUcMFx0",[r,v,n,i,f,b]));const p=s(()=>c(()=>Promise.resolve().then(()=>Q),void 0),"s_zVNN0N9sdCk",[x,t,e]),P=s(()=>c(()=>Promise.resolve().then(()=>he),void 0),"s_a0SkF1d0Z7o",[r,x,t,a,e,E]),I=$(o=>{(o.ctrlKey||o.metaKey)&&o.key==="k"&&o.preventDefault()},'event=>{if((event.ctrlKey||event.metaKey)&&event.key==="k"){event.preventDefault();}}');return _("div",{class:F(e.open.value&&"fixed left-0 top-0 z-40 h-screen w-screen lg:p-40 xl:p-48")},{"window:onKeyDown$":[I,P]},e.open.value&&m(j,{children:[_("div",{ref:u},{class:"flex h-full w-full flex-col bg-white/90 backdrop-blur-sm lg:mx-auto lg:h-auto lg:max-h-full lg:max-w-3xl lg:rounded-3xl lg:bg-white lg:backdrop-blur-none dark:bg-gray-900/90 lg:dark:bg-gray-900"},[_("header",null,{class:"flex h-14 shrink-0 items-center px-2 md:h-16 lg:h-[72px] lg:px-4"},[_("form",null,{class:"flex flex-1","preventdefault:submit":!0},[m(V,{get label(){return i.value?"Search":"Focus search input"},type:"button",onClick$:s(()=>c(()=>Promise.resolve().then(()=>ee),void 0),"s_FdcA446WEUQ",[d]),get loading(){return i.value},children:m(U,{class:"h-full",[l]:{class:l}},3,"0Z_0"),[l]:{label:T(o=>o.value?"Search":"Focus search input",[i]),type:l,onClick$:l,loading:T(o=>o.value,[i])}},1,"0Z_1"),_("input",{ref:d},{class:"flex-1 bg-transparent px-2 text-lg text-slate-900 outline-none placeholder:text-slate-500 md:text-xl dark:text-slate-200",name:"search",type:"search",placeholder:"Search docs",value:T(o=>o.value,[n]),onInput$:s(()=>c(()=>Promise.resolve().then(()=>se),void 0),"s_k3HBmJeR6G4",[n])},null,3,null)],1,null),m(V,{class:"lg:h-[22px]! lg:w-[22px]!",label:"Close search",type:"button",onClick$:s(()=>c(()=>Promise.resolve().then(()=>_e),void 0),"s_VFR0VdHWe5Q",[e]),children:m(G,{class:"h-full",[l]:{class:l}},3,"0Z_2"),[l]:{class:l,label:l,type:l,onClick$:l}},1,"0Z_3")],1,null),_("div",null,{class:"flex-1 overflow-y-auto overscroll-contain scroll-smooth p-4 lg:min-h-[120px] lg:px-6"},v.value?_("p",null,{class:"md:text-lg"},["An unexpected error has occurred. If this happens regularly, please create an"," ",m(C,{href:"https://github.com/fabian-hiller/valibot/issues/new",target:"_blank",colored:!0,underlined:!0,children:"issue",[l]:{href:l,target:l,colored:l,underlined:l}},3,"0Z_4")," ","on Github."],1,"0Z_5"):n.value&&!i.value&&!f.value.length?_("p",null,{class:"text-sm md:text-base"},['No results for "',_("span",null,{class:"text-slate-900 dark:text-slate-200"},T(o=>o.value,[n]),3,null),'"'],3,"0Z_6"):n.value&&f.value.length?_("ul",null,null,f.value.map((o,S)=>{const R=()=>S>0?f.value[S-1]:void 0,O=()=>R()?.group!==o.group?o.group:void 0;return _("li",{class:F(S>0&&(O()?"mt-9":o.relation==="page"&&R()?.relation!=="page"?"mt-6":o.relation==="child"?"border-l-2 border-l-slate-200 pl-2 pt-2.5 dark:border-l-slate-800":"mt-2.5"))},null,[O()&&_("div",null,{class:"mb-6 text-sm md:text-base"},O(),1,"0Z_7"),m(M,{...o,index:S,activeIndex:r,onClick$:s(()=>c(()=>Promise.resolve().then(()=>ge),void 0),"s_rT0Pq4sbN8A",[p,o]),[l]:{activeIndex:l}},0,"0Z_8")],1,o.path+o.text)}),1,"0Z_9"):y.value.length?m(j,{children:[_("div",null,{class:"text-sm md:text-base"},"Recent",3,null),_("ul",null,{class:"mt-6 flex flex-col gap-2.5"},y.value.map((o,S)=>_("li",null,null,m(M,{...o,index:S,activeIndex:r,onClick$:s(()=>c(()=>Promise.resolve().then(()=>be),void 0),"s_CrxgjMwbhcI",[p,o]),recent:!0,[l]:{activeIndex:l,recent:l}},0,"0Z_10"),1,o.path+o.text)),1,null)]},1,"0Z_11"):null,1,null),_("footer",null,{class:"flex h-12 shrink-0 items-center justify-end px-4 text-xs md:h-14 md:text-sm lg:h-[72px] lg:px-6"},["Search by",m(C,{class:"ml-2 md:ml-3",href:"https://www.algolia.com/ref/docsearch/?utm_source=valibot.dev&utm_medium=referral&utm_content=powered_by&utm_campaign=docsearch",target:"_blank",children:m(B,{class:"h-8 md:h-10",[l]:{class:l}},3,"0Z_12"),[l]:{class:l,href:l,target:l}},1,"0Z_13")],1,null)],1,null),_("div",null,{class:"hidden lg:absolute lg:left-0 lg:top-0 lg:-z-10 lg:block lg:h-full lg:w-full lg:cursor-default lg:bg-gray-200/50 lg:backdrop-blur-sm lg:dark:bg-gray-800/50",role:"button",onClick$:s(()=>c(()=>Promise.resolve().then(()=>ie),void 0),"s_elquhJivB5U",[e])},null,3,null)]},1,"0Z_14"),1,"0Z_15")},ne=Object.freeze(Object.defineProperty({__proto__:null,s_mszTFeVhYls:ae},Symbol.toStringTag,{value:"Module"})),re=(e,t)=>{const[a]=h();return a.value=t.value},se=Object.freeze(Object.defineProperty({__proto__:null,s_k3HBmJeR6G4:re},Symbol.toStringTag,{value:"Module"})),ce=()=>{const[e]=h();return e.open.value=!1},_e=Object.freeze(Object.defineProperty({__proto__:null,s_VFR0VdHWe5Q:ce},Symbol.toStringTag,{value:"Module"})),ue=()=>{const[e]=h();return e.open.value=!1},ie=Object.freeze(Object.defineProperty({__proto__:null,s_elquhJivB5U:ue},Symbol.toStringTag,{value:"Module"})),de=()=>{const[e,t,a]=h();return e.value?a.value:t.value},pe=Object.freeze(Object.defineProperty({__proto__:null,s_zD743Md25bk:de},Symbol.toStringTag,{value:"Module"})),ve=e=>{const[t,a,n,i,r,v]=h();if(((e.ctrlKey||e.metaKey)&&e.key==="k"||r.open.value&&e.key==="Escape")&&(r.open.value=!r.open.value),r.open.value){if(e.key==="ArrowUp"||e.key==="ArrowDown"){const u=v.value.length-1;t.value=e.key==="ArrowUp"?t.value===0?u:t.value-1:t.value===u?0:t.value+1}if(e.key==="Enter"){const u=v.value[t.value];u&&(u.path===n.url.pathname?r.open.value=!1:i(u.path),a.value=u)}}},he=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_a0SkF1d0Z7o:ve},Symbol.toStringTag,{value:"Module"})),me=()=>{const[e,t]=h();return e(t)},ge=Object.freeze(Object.defineProperty({__proto__:null,s_rT0Pq4sbN8A:me},Symbol.toStringTag,{value:"Module"})),fe=()=>{const[e,t]=h();return e(t)},be=Object.freeze(Object.defineProperty({__proto__:null,s_CrxgjMwbhcI:fe},Symbol.toStringTag,{value:"Module"})),xe=({track:e})=>{const[t,a]=h();e(()=>t.prevUrl),a.open.value=!1},ye=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_YNAF6jBbv9M:xe},Symbol.toStringTag,{value:"Module"}));export{Te as D,C as T,k as _hW,Ae as a,Oe as d,Y as s_5EifRUcMFx0,fe as s_CrxgjMwbhcI,X as s_FdcA446WEUQ,ce as s_VFR0VdHWe5Q,te as s_WXbLIM6pEE8,xe as s_YNAF6jBbv9M,ve as s_a0SkF1d0Z7o,ue as s_elquhJivB5U,re as s_k3HBmJeR6G4,ae as s_mszTFeVhYls,me as s_rT0Pq4sbN8A,de as s_zD743Md25bk,J as s_zVNN0N9sdCk,z as t,oe as u};
