import{a as s,s as t,t as n,q as o}from"./q-dgQLQ9M1.js";import{u as i}from"./q-CyNgVds-.js";import{L as c}from"./q-BuauhHiJ.js";const p=[{text:"JSON Schema",id:"json-schema",level:1},{text:"Valibot to JSON Schema",id:"valibot-to-json-schema",level:2},{text:"Cons of JSON Schema",id:"cons-of-json-schema",level:2},{text:"Pros of JSON Schema",id:"pros-of-json-schema",level:2}],m={title:"JSON Schema",meta:[{name:"description",content:"This guide will show you how to convert Valibot schemas to JSON Schema format."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller"]}},u={title:"JSON Schema",description:"This guide will show you how to convert Valibot schemas to JSON Schema format.",contributors:["fabian-hiller"]};function l(a){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...i(),...a.components};return n(o,{children:[n(e.h1,{id:"json-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#json-schema",children:n(e.span,{class:"icon icon-link"})}),"JSON Schema"]}),`
`,n(e.p,{children:"In favor of a larger feature set and smaller bundle size, Valibot is not implemented with JSON Schema in mind. However, in some use cases, you may still need a JSON Schema. This guide will show you how to convert Valibot schemas to JSON Schema format."}),`
`,n(e.h2,{id:"valibot-to-json-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#valibot-to-json-schema",children:n(e.span,{class:"icon icon-link"})}),"Valibot to JSON Schema"]}),`
`,n(e.p,{children:["A large part of Valibot's schemas are JSON Schema compatible and can be easily converted to the JSON Schema format using the official ",n(e.code,{children:"toJsonSchema"})," function. This function is provided via a separate package called ",n(e.a,{href:"https://github.com/fabian-hiller/valibot/tree/main/packages/to-json-schema",rel:"noreferrer",target:"_blank",children:n(e.code,{children:"@valibot/to-json-schema"})}),"."]}),`
`,n(e.blockquote,{children:[`
`,n(e.p,{children:["See the ",n(e.a,{href:"https://github.com/fabian-hiller/valibot/blob/main/packages/to-json-schema/README.md",rel:"noreferrer",target:"_blank",children:"README"})," of the ",n(e.code,{children:"@valibot/to-json-schema"})," package for more details. It is also recommended that you take a look at ",n(c,{href:"/blog/json-schema-package-upgrade/",children:"this blog post"}),", which highlights recent improvements."]}),`
`]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token punctuation",children:"{"})," toJsonSchema ",n(e.span,{class:"token punctuation",children:"}"})]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'@valibot/to-json-schema'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ValibotEmailSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"email"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"JsonEmailSchema"})," ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token function",children:"toJsonSchema"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token maybe-class-name",children:"ValibotEmailSchema"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token comment",children:"// -> { type: 'string', format: 'email' }"}),`
`]})}),`
`,n(e.h2,{id:"cons-of-json-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#cons-of-json-schema",children:n(e.span,{class:"icon icon-link"})}),"Cons of JSON Schema"]}),`
`,n(e.p,{children:"Valibot schemas intentionally do not output JSON Schema natively. This is because JSON Schema is limited to JSON-compliant data structures. In addition, more advanced features like transformations are not supported. Since we want to leverage the full power of TypeScript, we output a custom format instead."}),`
`,n(e.p,{children:"Another drawback of JSON Schema is that JSON Schema itself does not contain any validation logic. Therefore, an additional function is required that can validate the entire JSON Schema specification. This approach is usually not tree-shakable and results in a large bundle size."}),`
`,n(e.p,{children:"In contrast, Valibot's API design and implementation is completely modular. Every schema is independent and contains its own validation logic. This allows the schemas to be plugged together like LEGO bricks, resulting in a much smaller bundle size due to tree shaking."}),`
`,n(e.h2,{id:"pros-of-json-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#pros-of-json-schema",children:n(e.span,{class:"icon icon-link"})}),"Pros of JSON Schema"]}),`
`,n(e.p,{children:"Despite these drawbacks, JSON Schema is still widely used in the industry because it also has many advantages. For example, JSON Schemas can be used across programming languages and tools. In addition, JSON Schemas are serializable and can be easily stored in a database or transmitted over a network."})]})}const k=(a={})=>{const e=s(t,{children:s(l,a,3,null)},3,"wNniNkZ9");return typeof MDXLayout=="function"?n(MDXLayout,{children:e}):e};export{k as default,u as frontmatter,m as head,p as headings};
