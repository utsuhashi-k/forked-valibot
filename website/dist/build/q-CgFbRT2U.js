import{a as s,s as a,t as e,q as o}from"./q-dgQLQ9M1.js";import{u as i}from"./q-CyNgVds-.js";const d=[{text:"Comparison",id:"comparison",level:1},{text:"Modular design",id:"modular-design",level:2},{text:"Comparison with Zod",id:"comparison-with-zod",level:3},{text:"Performance",id:"performance",level:2}],p={title:"Comparison",meta:[{name:"description",content:"Even though Valibot's API resembles other solutions at first glance, the implementation and structure of the source code is very different."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller","nikolailehbrink","Neon-20"]}},h={title:"Comparison",description:"Even though Valibot's API resembles other solutions at first glance, the implementation and structure of the source code is very different.",contributors:["fabian-hiller","nikolailehbrink","Neon-20"]};function c(t){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",...i(),...t.components};return e(o,{children:[e(n.h1,{id:"comparison",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#comparison",children:e(n.span,{class:"icon icon-link"})}),"Comparison"]}),`
`,e(n.p,{children:"Even though Valibot's API resembles other solutions at first glance, the implementation and structure of the source code is very different. In the following, we would like to highlight the differences that can be beneficial for both you and your users."}),`
`,e(n.h2,{id:"modular-design",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#modular-design",children:e(n.span,{class:"icon icon-link"})}),"Modular design"]}),`
`,e(n.p,{children:"Instead of relying on a few large functions with many methods, Valibot's API design and source code is based on many small and independent functions, each with just a single task. This modular design has several advantages."}),`
`,e(n.p,{children:"On one hand, the functionality of Valibot can be easily extended with external code. On the other, it makes the source code more robust and secure because the functionality of the individual functions as well as special edge cases can be tested much easier through unit tests."}),`
`,e(n.p,{children:"However, perhaps the biggest advantage is that a bundler can use the static import statements to remove any code that is not needed. Thus, only the code that is actually used ends up in the production build. This allows us to extend the functionality of the library with additional functions without increasing the bundle size for all users."}),`
`,e(n.p,{children:"This can make a big difference, especially for client-side validation, as it reduces the bundle size and, depending on the framework, speeds up the startup time."}),`
`,`
`,e(n.pre,{class:"language-ts",children:e(n.code,{class:"language-ts",children:[e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token operator",children:"*"})," ",e(n.span,{class:"token keyword module",children:"as"})," v"]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'valibot'"}),e(n.span,{class:"token punctuation",children:";"})," ",e(n.span,{class:"token comment",children:"// 1.37 kB"}),`

`,e(n.span,{class:"token keyword",children:"const"})," ",e(n.span,{class:"token maybe-class-name",children:"LoginSchema"})," ",e(n.span,{class:"token operator",children:"="})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"object"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:"{"}),`
  email`,e(n.span,{class:"token operator",children:":"})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"nonEmpty"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token string",children:"'Please enter your email.'"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"email"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token string",children:"'The email address is badly formatted.'"}),e(n.span,{class:"token punctuation",children:")"}),`
  `,e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
  password`,e(n.span,{class:"token operator",children:":"})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"nonEmpty"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token string",children:"'Please enter your password.'"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"minLength"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token number",children:"8"}),e(n.span,{class:"token punctuation",children:","})," ",e(n.span,{class:"token string",children:"'Your password must have 8 characters or more.'"}),e(n.span,{class:"token punctuation",children:")"}),`
  `,e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
`,e(n.span,{class:"token punctuation",children:"}"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,e(n.h3,{id:"comparison-with-zod",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#comparison-with-zod",children:e(n.span,{class:"icon icon-link"})}),"Comparison with Zod"]}),`
`,e(n.p,{children:["For example, to validate a simple login form, ",e(n.a,{href:"https://zod.dev/",rel:"noreferrer",target:"_blank",children:"Zod"})," requires ",e(n.a,{href:"https://bundlejs.com/?q=zod&treeshake=%5B%7B+object%2Cstring+%7D%5D",rel:"noreferrer",target:"_blank",children:"13.5 kB"})," whereas Valibot require only ",e(n.a,{href:"https://bundlejs.com/?q=valibot&treeshake=%5B%7B+email%2CminLength%2CnonEmpty%2Cobject%2Cstring%2Cpipe+%7D%5D",rel:"noreferrer",target:"_blank",children:"1.37 kB"}),". That's a 90 % reduction in bundle size. This is due to the fact that Zod's functions have several methods with additional functionalities, that cannot be easily removed by current bundlers when they are not executed in your source code."]}),`
`,`
`,e(n.pre,{class:"language-ts",children:e(n.code,{class:"language-ts",children:[e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token punctuation",children:"{"})," object",e(n.span,{class:"token punctuation",children:","})," ",e(n.span,{class:"token builtin",children:"string"})," ",e(n.span,{class:"token punctuation",children:"}"})]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'zod'"}),e(n.span,{class:"token punctuation",children:";"})," ",e(n.span,{class:"token comment",children:"// 13.5 kB"}),`

`,e(n.span,{class:"token keyword",children:"const"})," ",e(n.span,{class:"token maybe-class-name",children:"LoginSchema"})," ",e(n.span,{class:"token operator",children:"="})," ",e(n.span,{class:"token function",children:"object"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:"{"}),`
  email`,e(n.span,{class:"token operator",children:":"})," ",e(n.span,{class:"token function",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),`
    `,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"min"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token number",children:"1"}),e(n.span,{class:"token punctuation",children:","})," ",e(n.span,{class:"token string",children:"'Please enter your email.'"}),e(n.span,{class:"token punctuation",children:")"}),`
    `,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"email"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token string",children:"'The email address is badly formatted.'"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
  password`,e(n.span,{class:"token operator",children:":"})," ",e(n.span,{class:"token function",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),`
    `,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"min"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token number",children:"1"}),e(n.span,{class:"token punctuation",children:","})," ",e(n.span,{class:"token string",children:"'Please enter your password.'"}),e(n.span,{class:"token punctuation",children:")"}),`
    `,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"min"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token number",children:"8"}),e(n.span,{class:"token punctuation",children:","})," ",e(n.span,{class:"token string",children:"'Your password must have 8 characters or more.'"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
`,e(n.span,{class:"token punctuation",children:"}"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,e(n.blockquote,{children:[`
`,e(n.p,{children:["You can migrate from Zod to Valibot using our ",e(n.a,{href:"/guides/migrate-from-zod/",children:"migration guide"}),". It provides a codemod and a detailed overview of the differences between the two libraries."]}),`
`]}),`
`,e(n.h2,{id:"performance",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#performance",children:e(n.span,{class:"icon icon-link"})}),"Performance"]}),`
`,e(n.p,{children:"With a schema library, a distinction must be made between startup performance and runtime performance. Startup performance describes the time required to load and initialize the library. This benchmark is mainly influenced by the bundle size and the amount of work required to create a schema. Runtime performance describes the time required to validate unknown data using a schema."}),`
`,e(n.p,{children:["Since Valibot's implementation is optimized to minimize the bundle size and the effort of initialization, there is hardly any library that performs better in a ",e(n.a,{href:"https://web.dev/articles/tti",rel:"noreferrer",target:"_blank",children:"TTI"})," benchmark. In terms of runtime performance, Valibot is in the midfield. Roughly speaking, the library is about twice as fast as ",e(n.a,{href:"https://zod.dev/",rel:"noreferrer",target:"_blank",children:"Zod"}),", but much slower than ",e(n.a,{href:"https://typia.io/",rel:"noreferrer",target:"_blank",children:"Typia"})," and ",e(n.a,{href:"https://github.com/sinclairzx81/typebox",rel:"noreferrer",target:"_blank",children:"TypeBox"}),", because we don't yet use a compiler that can generate highly optimized runtime code, and our implementation doesn't allow the use of the ",e(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function",rel:"noreferrer",target:"_blank",children:e(n.code,{children:"Function"})})," constructor."]}),`
`,e(n.blockquote,{children:[`
`,e(n.p,{children:["Further details on performance can be found in the ",e(n.a,{href:"/thesis.pdf",children:"bachelor's thesis"})," Valibot is based on."]}),`
`]})]})}const u=(t={})=>{const n=s(a,{children:s(c,t,3,null)},3,"0f3vX1Nf");return typeof MDXLayout=="function"?e(MDXLayout,{children:n}):n};export{u as default,h as frontmatter,p as head,d as headings};
