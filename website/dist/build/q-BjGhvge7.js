import{a,s,t as n,q as i}from"./q-dgQLQ9M1.js";import{u as r}from"./q-CyNgVds-.js";import{L as c}from"./q-BuauhHiJ.js";import{C as l}from"./q-CJgUIwJe.js";const k=[{text:"Migrate from Zod",id:"migrate-from-zod",level:1},{text:"Official codemod",id:"official-codemod",level:2},{text:"Replace imports",id:"replace-imports",level:2},{text:"Restructure code",id:"restructure-code",level:2},{text:"Change names",id:"change-names",level:2},{text:"Other details",id:"other-details",level:2},{text:"Object and tuple",id:"object-and-tuple",level:3},{text:"Error messages",id:"error-messages",level:3},{text:"Coerce type",id:"coerce-type",level:3},{text:"Async validation",id:"async-validation",level:3}],m={title:"Migrate from Zod",meta:[{name:"description",content:"Migrating from Zod to Valibot is very easy in most cases since both APIs have a lot of similarities."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller","EltonLobo07","valerii15298","morinokami"]}},f={title:"Migrate from Zod",description:"Migrating from Zod to Valibot is very easy in most cases since both APIs have a lot of similarities.",contributors:["fabian-hiller","EltonLobo07","valerii15298","morinokami"]};function o(t){const e={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...r(),...t.components};return n(i,{children:[n(e.h1,{id:"migrate-from-zod",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#migrate-from-zod",children:n(e.span,{class:"icon icon-link"})}),"Migrate from Zod"]}),`
`,n(e.p,{children:["Migrating from ",n(e.a,{href:"https://zod.dev/",rel:"noreferrer",target:"_blank",children:"Zod"})," to Valibot is very easy in most cases since both APIs have a lot of similarities. The following guide will help you migrate step by step and also point out important differences."]}),`
`,n(e.h2,{id:"official-codemod",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#official-codemod",children:n(e.span,{class:"icon icon-link"})}),"Official codemod"]}),`
`,n(e.p,{children:"To make the migration as smoth as possible, we have created an official codemod that automatically migrates your Zod schemas to Valibot. Just copy your schemas into this editor and click play."}),`
`,n(e.blockquote,{children:[`
`,n(e.p,{children:["The codemod is still in beta and may not cover all edge cases. If you encounter any problems or unexpected behaviour, please create an ",n(e.a,{href:"https://github.com/fabian-hiller/valibot/issues/new",rel:"noreferrer",target:"_blank",children:"issue"}),". Alternatively, you can try to fix any issues yourself and create a ",n(e.a,{href:"https://github.com/fabian-hiller/valibot/pulls",rel:"noreferrer",target:"_blank",children:"pull request"}),". You can find the source code ",n(e.a,{href:"https://github.com/fabian-hiller/valibot/tree/main/codemod/zod-to-valibot",rel:"noreferrer",target:"_blank",children:"here"}),"."]}),`
`]}),`
`,n(l,{}),`
`,n(e.p,{children:"You will soon be able to also run the codemod locally in your terminal to migrate your entire codebase at once. Stay tuned!"}),`
`,n(e.h2,{id:"replace-imports",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#replace-imports",children:n(e.span,{class:"icon icon-link"})}),"Replace imports"]}),`
`,n(e.p,{children:["The first thing to do after ",n(c,{href:"../installation/",children:"installing"})," Valibot is to update your imports. Just change your Zod imports to Valibot's and replace all occurrences of ",n(e.code,{children:"z."})," with ",n(e.code,{children:"v."}),"."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token punctuation",children:"{"})," z ",n(e.span,{class:"token punctuation",children:"}"})]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'zod'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"Schema"})," ",n(e.span,{class:"token operator",children:"="})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," key",n(e.span,{class:"token operator",children:":"})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"Schema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," key",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h2,{id:"restructure-code",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#restructure-code",children:n(e.span,{class:"icon icon-link"})}),"Restructure code"]}),`
`,n(e.p,{children:["One of the biggest differences between Zod and Valibot is the way you further validate a given type. In Zod, you chain methods like ",n(e.code,{children:".email"})," and ",n(e.code,{children:".endsWith"}),". In Valibot you use ",n(c,{href:"../pipelines/",children:"pipelines"})," to do the same thing. This is a function that starts with a schema and is followed by up to 19 validation or transformation actions."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"Schema"})," ",n(e.span,{class:"token operator",children:"="})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"email"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"endsWith"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'@example.com'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"Schema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"email"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"endsWith"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'@example.com'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:["Due to the modular design of Valibot, also all other methods like ",n(e.code,{children:".parse"})," or ",n(e.code,{children:".safeParse"})," have to be used a little bit differently. Instead of chaining them, you usually pass the schema as the first argument and move any existing arguments one position to the right."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," value ",n(e.span,{class:"token operator",children:"="})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"parse"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'foo'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," value ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"parse"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'foo'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:["We recommend that you read our ",n(c,{href:"../mental-model/",children:"mental model"})," guide to understand how the individual functions of Valibot's modular API work together."]}),`
`,n(e.h2,{id:"change-names",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#change-names",children:n(e.span,{class:"icon icon-link"})}),"Change names"]}),`
`,n(e.p,{children:"Most of the names are the same as in Zod. However, there are some exceptions. The following table shows all names that have changed."}),`
`,n(e.div,{class:"table-wrapper",children:n(e.table,{children:[n(e.thead,{children:n(e.tr,{children:[n(e.th,{children:"Zod"}),n(e.th,{children:"Valibot"})]})}),n(e.tbody,{children:[n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"and"})}),n(e.td,{children:n(c,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"catch"})}),n(e.td,{children:n(c,{href:"/api/fallback/",children:n(e.code,{children:"fallback"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"catchall"})}),n(e.td,{children:n(c,{href:"/api/objectWithRest/",children:n(e.code,{children:"objectWithRest"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"coerce"})}),n(e.td,{children:[n(c,{href:"/api/pipe/",children:n(e.code,{children:"pipe"})}),", ",n(c,{href:"/api/unknown/",children:n(e.code,{children:"unknown"})})," and ",n(c,{href:"/api/transform/",children:n(e.code,{children:"transform"})})]})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"datetime"})}),n(e.td,{children:[n(c,{href:"/api/isoDate/",children:n(e.code,{children:"isoDate"})}),", ",n(c,{href:"/api/isoDateTime/",children:n(e.code,{children:"isoDateTime"})})]})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"default"})}),n(e.td,{children:n(c,{href:"/api/optional/",children:n(e.code,{children:"optional"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"discriminatedUnion"})}),n(e.td,{children:n(c,{href:"/api/variant/",children:n(e.code,{children:"variant"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"element"})}),n(e.td,{children:n(e.code,{children:"item"})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"enum"})}),n(e.td,{children:n(c,{href:"/api/picklist/",children:n(e.code,{children:"picklist"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"extend"})}),n(e.td,{children:n(c,{href:"../intersections/#merge-objects",children:"Object merging"})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"gt"})}),n(e.td,{children:n(c,{href:"/api/gtValue/",children:n(e.code,{children:"gtValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"gte"})}),n(e.td,{children:n(c,{href:"/api/minValue/",children:n(e.code,{children:"minValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"infer"})}),n(e.td,{children:n(c,{href:"/api/InferOutput/",children:n(e.code,{children:"InferOutput"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"int"})}),n(e.td,{children:n(c,{href:"/api/integer/",children:n(e.code,{children:"integer"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"input"})}),n(e.td,{children:n(c,{href:"/api/InferInput/",children:n(e.code,{children:"InferInput"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"instanceof"})}),n(e.td,{children:n(c,{href:"/api/instance/",children:n(e.code,{children:"instance"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"intersection"})}),n(e.td,{children:n(c,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"lt"})}),n(e.td,{children:n(c,{href:"/api/ltValue/",children:n(e.code,{children:"ltValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"lte"})}),n(e.td,{children:n(c,{href:"/api/maxValue/",children:n(e.code,{children:"maxValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"max"})}),n(e.td,{children:[n(c,{href:"/api/maxLength/",children:n(e.code,{children:"maxLength"})}),", ",n(c,{href:"/api/maxSize/",children:n(e.code,{children:"maxSize"})}),", ",n(c,{href:"/api/maxValue/",children:n(e.code,{children:"maxValue"})})]})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"min"})}),n(e.td,{children:[n(c,{href:"/api/minLength/",children:n(e.code,{children:"minLength"})}),", ",n(c,{href:"/api/minSize/",children:n(e.code,{children:"minSize"})}),", ",n(c,{href:"/api/minValue/",children:n(e.code,{children:"minValue"})})]})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"nativeEnum"})}),n(e.td,{children:n(c,{href:"/api/enum/",children:n(e.code,{children:"enum"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"negative"})}),n(e.td,{children:n(c,{href:"/api/maxValue/",children:n(e.code,{children:"maxValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"nonnegative"})}),n(e.td,{children:n(c,{href:"/api/minValue/",children:n(e.code,{children:"minValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"nonpositive"})}),n(e.td,{children:n(c,{href:"/api/maxValue/",children:n(e.code,{children:"maxValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"or"})}),n(e.td,{children:n(c,{href:"/api/union/",children:n(e.code,{children:"union"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"output"})}),n(e.td,{children:n(c,{href:"/api/InferOutput/",children:n(e.code,{children:"InferOutput"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"passthrough"})}),n(e.td,{children:n(c,{href:"/api/looseObject/",children:n(e.code,{children:"looseObject"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"positive"})}),n(e.td,{children:n(c,{href:"/api/minValue/",children:n(e.code,{children:"minValue"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"refine"})}),n(e.td,{children:[n(c,{href:"/api/check/",children:n(e.code,{children:"check"})}),", ",n(c,{href:"/api/forward/",children:n(e.code,{children:"forward"})})]})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"rest"})}),n(e.td,{children:n(c,{href:"/api/tuple/",children:n(e.code,{children:"tuple"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"safe"})}),n(e.td,{children:n(c,{href:"/api/safeInteger/",children:n(e.code,{children:"safeInteger"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"shape"})}),n(e.td,{children:n(e.code,{children:"entries"})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"strict"})}),n(e.td,{children:n(c,{href:"/api/strictObject/",children:n(e.code,{children:"strictObject"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"strip"})}),n(e.td,{children:n(c,{href:"/api/object/",children:n(e.code,{children:"object"})})})]}),n(e.tr,{children:[n(e.td,{children:n(e.code,{children:"superRefine"})}),n(e.td,{children:[n(c,{href:"/api/rawCheck/",children:n(e.code,{children:"rawCheck"})}),", ",n(c,{href:"/api/rawTransform/",children:n(e.code,{children:"rawTransform"})})]})]})]})]})}),`
`,n(e.h2,{id:"other-details",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#other-details",children:n(e.span,{class:"icon icon-link"})}),"Other details"]}),`
`,n(e.p,{children:"Below are some more details that may be helpful when migrating from Zod to Valibot."}),`
`,n(e.h3,{id:"object-and-tuple",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#object-and-tuple",children:n(e.span,{class:"icon icon-link"})}),"Object and tuple"]}),`
`,n(e.p,{children:["To specify whether objects or tuples should allow or prevent unknown values, Valibot uses different schema functions. Zod uses the methods ",n(e.code,{children:".passthrough"}),", ",n(e.code,{children:".strict"}),", ",n(e.code,{children:".strip"}),", ",n(e.code,{children:".catchall"})," and ",n(e.code,{children:".rest"})," instead. See the ",n(c,{href:"../objects/",children:"objects"})," and ",n(c,{href:"../arrays/",children:"arrays"})," guide for more details."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema"})," ",n(e.span,{class:"token operator",children:"="})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," key",n(e.span,{class:"token operator",children:":"})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"strict"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"strictObject"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," key",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"error-messages",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#error-messages",children:n(e.span,{class:"icon icon-link"})}),"Error messages"]}),`
`,n(e.p,{children:'For individual error messages, you can pass a string or an object to Zod. It also allows you to differentiate between an error message for "required" and "invalid_type". With Valibot you just pass a single string instead.'}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"StringSchema"})," ",n(e.span,{class:"token operator",children:"="}),` z
  `,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," invalid_type_error",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'Not a string'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
  `,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"min"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token number",children:"5"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token punctuation",children:"{"})," message",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'Too short'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"StringSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'Not a string'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"minLength"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token number",children:"5"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'Too short'"}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"coerce-type",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#coerce-type",children:n(e.span,{class:"icon icon-link"})}),"Coerce type"]}),`
`,n(e.p,{children:["To enforce primitive values, you can use a method of the ",n(e.code,{children:"coerce"})," object in Zod. There is no such object or function in Valibot. Instead, you use a pipeline with a ",n(c,{href:"/api/transform/",children:n(e.code,{children:"transform"})})," action as the second argument. This forces you to explicitly define the input, resulting in safer code."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token comment",children:"// Change this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"NumberSchema"})," ",n(e.span,{class:"token operator",children:"="})," z",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token property-access",children:"coerce"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// To this"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"NumberSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"unknown"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"transform"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token known-class-name class-name",children:"Number"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:["Instead of ",n(c,{href:"/api/unknown/",children:n(e.code,{children:"unknown"})})," as in the previous example, we usually recommend using a specific schema such as ",n(c,{href:"/api/string/",children:n(e.code,{children:"string"})})," to improve type safety. This allows you, for example, to validate the formatting of the string with ",n(c,{href:"/api/decimal/",children:n(e.code,{children:"decimal"})})," before transforming it to a number."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"NumberSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"decimal"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"transform"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token known-class-name class-name",children:"Number"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"async-validation",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#async-validation",children:n(e.span,{class:"icon icon-link"})}),"Async validation"]}),`
`,n(e.p,{children:["Similar to Zod, Valibot supports synchronous and asynchronous validation. However, the API is a little bit different. See the ",n(c,{href:"../async-validation/",children:"async guide"})," for more details."]})]})}const g=(t={})=>{const e=a(s,{children:a(o,t,3,null)},3,"0v_oOt-/");return typeof MDXLayout=="function"?n(MDXLayout,{children:e}):e};export{g as default,f as frontmatter,m as head,k as headings};
