import{a,s as t,t as n,q as o}from"./q-dgQLQ9M1.js";import{u as i}from"./q-CyNgVds-.js";import{L as s}from"./q-BuauhHiJ.js";const h=[{text:"Objects",id:"objects",level:1},{text:"Object schema",id:"object-schema",level:2},{text:"Loose and strict objects",id:"loose-and-strict-objects",level:3},{text:"Object with specific rest",id:"object-with-specific-rest",level:3},{text:"Pipeline validation",id:"pipeline-validation",level:3},{text:"Record schema",id:"record-schema",level:2},{text:"Specific record keys",id:"specific-record-keys",level:3},{text:"Pipeline validation",id:"pipeline-validation-1",level:3}],u={title:"Objects",meta:[{name:"description",content:"To validate objects with a schema, you can use `object` or `record`. You use `object` for an object with a specific shape and `record` in the other case."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller","Mini-ghost"]}},k={title:"Objects",description:"To validate objects with a schema, you can use `object` or `record`. You use `object` for an object with a specific shape and `record` in the other case.",contributors:["fabian-hiller","Mini-ghost"]};function l(c){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",...i(),...c.components};return n(o,{children:[n(e.h1,{id:"objects",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#objects",children:n(e.span,{class:"icon icon-link"})}),"Objects"]}),`
`,n(e.p,{children:["To validate objects with a schema, you can use ",n(s,{href:"/api/object/",children:n(e.code,{children:"object"})})," or ",n(s,{href:"/api/record/",children:n(e.code,{children:"record"})}),". You use ",n(s,{href:"/api/object/",children:n(e.code,{children:"object"})})," for an object with a specific shape and ",n(s,{href:"/api/record/",children:n(e.code,{children:"record"})})," for objects with any number of uniform entries."]}),`
`,n(e.h2,{id:"object-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#object-schema",children:n(e.span,{class:"icon icon-link"})}),"Object schema"]}),`
`,n(e.p,{children:"The first argument is used to define the specific structure of the object. Each entry consists of a key and a schema as the value. The entries of the input are then validated against these schemas."}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  key1`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  key2`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"loose-and-strict-objects",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#loose-and-strict-objects",children:n(e.span,{class:"icon icon-link"})}),"Loose and strict objects"]}),`
`,n(e.p,{children:["The ",n(s,{href:"/api/object/",children:n(e.code,{children:"object"})})," schema removes unknown entries. This means that entries that you have not defined in the first argument are not validated and added to the output. You can change this behavior by using the ",n(s,{href:"/api/looseObject/",children:n(e.code,{children:"looseObject"})})," or ",n(s,{href:"/api/strictObject/",children:n(e.code,{children:"strictObject"})})," schema instead."]}),`
`,n(e.p,{children:["The ",n(s,{href:"/api/looseObject/",children:n(e.code,{children:"looseObject"})})," schema allows unknown entries and adds them to the output. The ",n(s,{href:"/api/strictObject/",children:n(e.code,{children:"strictObject"})})," schema forbids unknown entries and returns an issue for the first unknown entry found."]}),`
`,n(e.h3,{id:"object-with-specific-rest",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#object-with-specific-rest",children:n(e.span,{class:"icon icon-link"})}),"Object with specific rest"]}),`
`,n(e.p,{children:["Alternatively, you can also use the ",n(s,{href:"/api/objectWithRest/",children:n(e.code,{children:"objectWithRest"})})," schema to define a specific schema for unknown entries. Any entries not defined in the first argument are then validated against the schema of the second argument."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"objectWithRest"}),n(e.span,{class:"token punctuation",children:"("}),`
  `,n(e.span,{class:"token punctuation",children:"{"}),`
    key1`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    key2`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:","}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token keyword null nil",children:"null"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"pipeline-validation",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#pipeline-validation",children:n(e.span,{class:"icon icon-link"})}),"Pipeline validation"]}),`
`,n(e.p,{children:["To validate the value of an entry based on another entry, you can wrap you schema with the ",n(s,{href:"/api/check/",children:n(e.code,{children:"check"})})," validation action in a pipeline. You can also use ",n(s,{href:"/api/forward/",children:n(e.code,{children:"forward"})})," to assign the issue to a specific object key in the event of an error."]}),`
`,n(e.blockquote,{children:[`
`,n(e.p,{children:["If you only want to validate specific entries, we recommend using ",n(s,{href:"/api/partialCheck/",children:n(e.code,{children:"partialCheck"})})," instead as ",n(s,{href:"/api/check/",children:n(e.code,{children:"check"})})," can only be executed if the input is fully typed."]}),`
`]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"CalculationSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
    a`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    b`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    sum`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"forward"}),n(e.span,{class:"token punctuation",children:"("}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"check"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," a",n(e.span,{class:"token punctuation",children:","})," b",n(e.span,{class:"token punctuation",children:","})," sum ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"})," a ",n(e.span,{class:"token operator",children:"+"})," b ",n(e.span,{class:"token operator",children:"==="})," sum",n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'The calculation is incorrect.'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    `,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'sum'"}),n(e.span,{class:"token punctuation",children:"]"}),`
  `,n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h2,{id:"record-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#record-schema",children:n(e.span,{class:"icon icon-link"})}),"Record schema"]}),`
`,n(e.p,{children:["For an object with any number of uniform entries, ",n(s,{href:"/api/record/",children:n(e.code,{children:"record"})})," is the right choice. The schema passed as the first argument validates the keys of your record, and the schema passed as the second argument validates the values."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"RecordSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"record"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// Record<string, number>"}),`
`]})}),`
`,n(e.h3,{id:"specific-record-keys",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#specific-record-keys",children:n(e.span,{class:"icon icon-link"})}),"Specific record keys"]}),`
`,n(e.p,{children:["Instead of ",n(s,{href:"/api/string/",children:n(e.code,{children:"string"})}),", you can also use ",n(s,{href:"/api/custom/",children:n(e.code,{children:"custom"})}),", ",n(s,{href:"/api/enum/",children:n(e.code,{children:"enum"})}),", ",n(s,{href:"/api/literal/",children:n(e.code,{children:"literal"})}),", ",n(s,{href:"/api/picklist/",children:n(e.code,{children:"picklist"})})," or ",n(s,{href:"/api/union/",children:n(e.code,{children:"union"})})," to validate the keys."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"RecordSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"record"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"picklist"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'key1'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'key2'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// { key1?: number; key2?: number }"}),`
`]})}),`
`,n(e.p,{children:["Note that ",n(s,{href:"/api/record/",children:n(e.code,{children:"record"})})," marks all literal keys as optional in this case. If you want to make them required, you can use the ",n(s,{href:"/api/object/",children:n(e.code,{children:"object"})})," schema with the ",n(s,{href:"/api/entriesFromList/",children:n(e.code,{children:"entriesFromList"})})," util instead."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"RecordSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"entriesFromList"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'key1'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'key2'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// { key1: number; key2: number }"}),`
`]})}),`
`,n(e.h3,{id:"pipeline-validation-1",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#pipeline-validation-1",children:n(e.span,{class:"icon icon-link"})}),"Pipeline validation"]}),`
`,n(e.p,{children:["To validate the value of an entry based on another entry, you can wrap you schema with the ",n(s,{href:"/api/check/",children:n(e.code,{children:"check"})})," validation action in a pipeline. You can also use ",n(s,{href:"/api/forward/",children:n(e.code,{children:"forward"})})," to assign the issue to a specific record key in the event of an error."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"CalculationSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"pipe"}),n(e.span,{class:"token punctuation",children:"("}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"record"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"picklist"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'a'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'b'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'sum'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"forward"}),n(e.span,{class:"token punctuation",children:"("}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"check"}),n(e.span,{class:"token punctuation",children:"("}),`
      `,n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," a",n(e.span,{class:"token punctuation",children:","})," b",n(e.span,{class:"token punctuation",children:","})," sum ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"("}),"a ",n(e.span,{class:"token operator",children:"||"})," ",n(e.span,{class:"token number",children:"0"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"+"})," ",n(e.span,{class:"token punctuation",children:"("}),"b ",n(e.span,{class:"token operator",children:"||"})," ",n(e.span,{class:"token number",children:"0"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"==="})," ",n(e.span,{class:"token punctuation",children:"("}),"sum ",n(e.span,{class:"token operator",children:"||"})," ",n(e.span,{class:"token number",children:"0"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
      `,n(e.span,{class:"token string",children:"'The calculation is incorrect.'"}),`
    `,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    `,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'sum'"}),n(e.span,{class:"token punctuation",children:"]"}),`
  `,n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})})]})}const m=(c={})=>{const e=a(t,{children:a(l,c,3,null)},3,"Z29UyVWv");return typeof MDXLayout=="function"?n(MDXLayout,{children:e}):e};export{m as default,k as frontmatter,u as head,h as headings};
