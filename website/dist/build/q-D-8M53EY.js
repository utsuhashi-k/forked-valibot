import{a as c,s as t,t as n,q as l}from"./q-dgQLQ9M1.js";import{u as o}from"./q-CyNgVds-.js";import{L as s}from"./q-BuauhHiJ.js";const d=[{text:"Other",id:"other",level:1},{text:"Literal schema",id:"literal-schema",level:2},{text:"Instance schema",id:"instance-schema",level:2},{text:"Custom schema",id:"custom-schema",level:2},{text:"Lazy schema",id:"lazy-schema",level:2},{text:"JSON schema",id:"json-schema",level:3}],u={title:"Other",meta:[{name:"description",content:"This guide explains other special schema functions such as `literal`, `instance`, `custom` and `lazy` that are not covered in the other guides."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller"]}},k={title:"Other",description:"This guide explains other special schema functions such as `literal`, `instance`, `custom` and `lazy` that are not covered in the other guides.",contributors:["fabian-hiller"]};function r(a){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",...o(),...a.components};return n(l,{children:[n(e.h1,{id:"other",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#other",children:n(e.span,{class:"icon icon-link"})}),"Other"]}),`
`,n(e.p,{children:["This guide explains other special schema functions such as ",n(s,{href:"/api/literal/",children:n(e.code,{children:"literal"})}),", ",n(s,{href:"/api/instance/",children:n(e.code,{children:"instance"})}),", ",n(s,{href:"/api/custom/",children:n(e.code,{children:"custom"})})," and ",n(s,{href:"/api/lazy/",children:n(e.code,{children:"lazy"})})," that are not covered in the other guides."]}),`
`,n(e.h2,{id:"literal-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#literal-schema",children:n(e.span,{class:"icon icon-link"})}),"Literal schema"]}),`
`,n(e.p,{children:["You can use ",n(s,{href:"/api/literal/",children:n(e.code,{children:"literal"})})," to define a schema that matches a specific string, number or boolean value. Therefore, this schema is perfect for representing ",n(e.a,{href:"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types",rel:"noreferrer",target:"_blank",children:"literal types"}),". Usage is simple, just pass the value you want to match as the first argument."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"StringLiteralSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"literal"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'foo'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// 'foo'"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"NumberLiteralSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"literal"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token number",children:"12345"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// 12345"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"BooleanLiteralSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"literal"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token boolean",children:"true"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// true"}),`
`]})}),`
`,n(e.h2,{id:"instance-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#instance-schema",children:n(e.span,{class:"icon icon-link"})}),"Instance schema"]}),`
`,n(e.p,{children:["With schema functions like ",n(s,{href:"/api/blob/",children:n(e.code,{children:"blob"})}),", ",n(s,{href:"/api/date/",children:n(e.code,{children:"date"})}),", ",n(s,{href:"/api/map/",children:n(e.code,{children:"map"})})," and ",n(s,{href:"/api/set/",children:n(e.code,{children:"set"})})," Valibot already covers the most common JavaScript classes. However, there are many more classes that you may want to validate. For this purpose, you can use the ",n(s,{href:"/api/instance/",children:n(e.code,{children:"instance"})})," schema function. It takes a class as its first argument and returns a schema that matches only instances of that class."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ErrorSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"instance"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token known-class-name class-name",children:"Error"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// Error"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"UrlSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"instance"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token constant",children:"URL"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// URL"}),`
`]})}),`
`,n(e.h2,{id:"custom-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#custom-schema",children:n(e.span,{class:"icon icon-link"})}),"Custom schema"]}),`
`,n(e.p,{children:["The ",n(s,{href:"/api/custom/",children:n(e.code,{children:"custom"})})," schema function is a bit more advanced. It allows you to define a schema that matches a value based on a custom function. Use it whenever you need to define a schema that cannot be expressed using any of the other schema functions."]}),`
`,n(e.p,{children:["The function receives the value to validate as its first argument and must return a boolean value. If the function returns ",n(e.code,{children:"true"}),", the value is considered valid. Otherwise, it is considered invalid."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"PixelStringSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"custom"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),n(e.span,{class:"token builtin",children:"number"}),n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"px"}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),"input",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"}),`
  `,n(e.span,{class:"token keyword",children:"typeof"})," input ",n(e.span,{class:"token operator",children:"==="})," ",n(e.span,{class:"token string",children:"'string'"})," ",n(e.span,{class:"token operator",children:"?"})," ",n(e.span,{class:"token regex",children:[n(e.span,{class:"token regex-delimiter",children:"/"}),n(e.span,{class:"token regex-source language-regex",children:"^\\d+px$"}),n(e.span,{class:"token regex-delimiter",children:"/"})]}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"test"}),n(e.span,{class:"token punctuation",children:"("}),"input",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token boolean",children:"false"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h2,{id:"lazy-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#lazy-schema",children:n(e.span,{class:"icon icon-link"})}),"Lazy schema"]}),`
`,n(e.p,{children:["The ",n(s,{href:"/api/lazy/",children:n(e.code,{children:"lazy"})})," schema function allows you to define recursive schemas. A recursive schema is a schema that references itself. For example, you can use it to define a schema for a tree-like data structure."]}),`
`,n(e.blockquote,{children:[`
`,n(e.p,{children:["Due to a TypeScript limitation, the input and output types cannot be inferred automatically in this case. Therefore, you must explicitly specify these types using the ",n(s,{href:"/api/GenericSchema/",children:n(e.code,{children:"GenericSchema"})})," type."]}),`
`]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"type"})," ",n(e.span,{class:"token class-name",children:n(e.span,{class:"token maybe-class-name",children:"BinaryTree"})})," ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  element`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:";"}),`
  left`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token maybe-class-name",children:"BinaryTree"})," ",n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token keyword null nil",children:"null"}),n(e.span,{class:"token punctuation",children:";"}),`
  right`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token maybe-class-name",children:"BinaryTree"})," ",n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token keyword null nil",children:"null"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"BinaryTreeSchema"}),n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token property-access",children:n(e.span,{class:"token maybe-class-name",children:"GenericSchema"})}),n(e.span,{class:"token operator",children:"<"}),n(e.span,{class:"token maybe-class-name",children:"BinaryTree"}),n(e.span,{class:"token operator",children:">"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  element`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  left`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"nullable"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"lazy"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"})," ",n(e.span,{class:"token maybe-class-name",children:"BinaryTreeSchema"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  right`,n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"nullable"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"lazy"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"})," ",n(e.span,{class:"token maybe-class-name",children:"BinaryTreeSchema"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h3,{id:"json-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#json-schema",children:n(e.span,{class:"icon icon-link"})}),"JSON schema"]}),`
`,n(e.p,{children:["Another practical use case for ",n(e.code,{children:"lazy"})," is a schema for all possible ",n(e.code,{children:"JSON"})," values. These are all values that can be serialized and deserialized using ",n(e.code,{children:"JSON.stringify()"})," and ",n(e.code,{children:"JSON.parse()"}),"."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"type"})," ",n(e.span,{class:"token class-name",children:n(e.span,{class:"token maybe-class-name",children:"JsonData"})})," ",n(e.span,{class:"token operator",children:"="}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token builtin",children:"string"}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token builtin",children:"number"}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token builtin",children:"boolean"}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token keyword null nil",children:"null"}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token punctuation",children:"{"})," ",n(e.span,{class:"token punctuation",children:"["}),"key",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token maybe-class-name",children:"JsonData"})," ",n(e.span,{class:"token punctuation",children:"}"}),`
  `,n(e.span,{class:"token operator",children:"|"})," ",n(e.span,{class:"token maybe-class-name",children:"JsonData"}),n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"JsonSchema"}),n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token property-access",children:n(e.span,{class:"token maybe-class-name",children:"GenericSchema"})}),n(e.span,{class:"token operator",children:"<"}),n(e.span,{class:"token maybe-class-name",children:"JsonData"}),n(e.span,{class:"token operator",children:">"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"lazy"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token arrow operator",children:"=>"}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"union"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"["}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"boolean"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token keyword null nil",children:"null"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"record"}),n(e.span,{class:"token punctuation",children:"("}),"v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token maybe-class-name",children:"JsonSchema"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"array"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token maybe-class-name",children:"JsonSchema"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})})]})}const m=(a={})=>{const e=c(t,{children:c(r,a,3,null)},3,"LwHecVVF");return typeof MDXLayout=="function"?n(MDXLayout,{children:e}):e};export{m as default,k as frontmatter,u as head,d as headings};
