import{a as c,s as a,t as n,q as o}from"./q-dgQLQ9M1.js";import{u as i}from"./q-CyNgVds-.js";import{L as s}from"./q-BuauhHiJ.js";const d=[{text:"Intersections",id:"intersections",level:1},{text:"Intersect schema",id:"intersect-schema",level:2},{text:"Merge objects",id:"merge-objects",level:2}],u={title:"Intersections",meta:[{name:"description",content:"An intersection represents a logical AND relationship. You can apply this concept to your schemas with `intersect` and by merging object schemas."}],styles:[],links:[],scripts:[],frontmatter:{contributors:["fabian-hiller"]}},k={title:"Intersections",description:"An intersection represents a logical AND relationship. You can apply this concept to your schemas with `intersect` and by merging object schemas.",contributors:["fabian-hiller"]};function r(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...i(),...t.components};return n(o,{children:[n(e.h1,{id:"intersections",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#intersections",children:n(e.span,{class:"icon icon-link"})}),"Intersections"]}),`
`,n(e.p,{children:["An intersection represents a logical AND relationship. You can apply this concept to your schemas with ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," and partially by merging multiple object schemas into a new one. We recommend this approach for simple object schemas, and ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," for all other cases."]}),`
`,n(e.h2,{id:"intersect-schema",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#intersect-schema",children:n(e.span,{class:"icon icon-link"})}),"Intersect schema"]}),`
`,n(e.p,{children:["The schema function ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," creates an AND relationship between any number of schemas that you pass as the first argument in the form of an array. To pass the validation, the validation of each schema passed must be successful. If this is the case, the schema merges the output of the individual schemas and returns the result. If the validation fails, the schema returns any issues that occurred."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// TypeScript"}),`
`,n(e.span,{class:"token keyword",children:"type"})," ",n(e.span,{class:"token class-name",children:n(e.span,{class:"token maybe-class-name",children:"Intersect"})})," ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token punctuation",children:"{"})," foo",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"string"})," ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token operator",children:"&"})," ",n(e.span,{class:"token punctuation",children:"{"})," bar",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"number"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token comment",children:"// Valibot"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"IntersectSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"intersect"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"["}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," foo",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  v`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," bar",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
`,n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.h2,{id:"merge-objects",children:[n(e.a,{"aria-hidden":"true",tabindex:"-1",href:"#merge-objects",children:n(e.span,{class:"icon icon-link"})}),"Merge objects"]}),`
`,n(e.p,{children:["Technically, there is a big difference between ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," and object merging. ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," is a schema function that executes the passed schemas during validation. In contrast, object merging is done during initialization to create a new object schema."]}),`
`,n(e.p,{children:["As a result, object merging usually has much better performance than ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})})," when validating unknown data. Also, subsequent object properties overwrite the previous ones. This is not the case with ",n(s,{href:"/api/intersect/",children:n(e.code,{children:"intersect"})}),", since the validation would fail if two properties with the same name are fundamentally different."]}),`
`,n(e.pre,{class:"language-ts",children:n(e.code,{class:"language-ts",children:[n(e.span,{class:"token keyword module",children:"import"})," ",n(e.span,{class:"token imports",children:[n(e.span,{class:"token operator",children:"*"})," ",n(e.span,{class:"token keyword module",children:"as"})," v"]})," ",n(e.span,{class:"token keyword module",children:"from"})," ",n(e.span,{class:"token string",children:"'valibot'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema1"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," foo",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," baz",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"number"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"ObjectSchema2"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," bar",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"string"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," baz",n(e.span,{class:"token operator",children:":"})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"boolean"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token maybe-class-name",children:"MergedSchema"})," ",n(e.span,{class:"token operator",children:"="})," v",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token method function property-access",children:"object"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token spread operator",children:"..."}),n(e.span,{class:"token maybe-class-name",children:"ObjectSchema1"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token property-access",children:"entries"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token spread operator",children:"..."}),n(e.span,{class:"token maybe-class-name",children:"ObjectSchema2"}),n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token property-access",children:"entries"}),n(e.span,{class:"token punctuation",children:","}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"})," ",n(e.span,{class:"token comment",children:"// { foo: string; bar: string; baz: boolean }"}),`
`]})}),`
`,n(e.p,{children:["In the previous code example, the ",n(e.code,{children:"baz"})," property of the first object schema is overwritten by the ",n(e.code,{children:"baz"})," property of the second object schema."]})]})}const m=(t={})=>{const e=c(a,{children:c(r,t,3,null)},3,"a42dA1rs");return typeof MDXLayout=="function"?n(MDXLayout,{children:e}):e};export{m as default,k as frontmatter,u as head,d as headings};
