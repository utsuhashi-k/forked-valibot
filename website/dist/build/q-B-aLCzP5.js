import{R as s,a as r,s as c,t as e,q as l}from"./q-dgQLQ9M1.js";import{u as d}from"./q-CyNgVds-.js";import{L as t}from"./q-BuauhHiJ.js";const h="/assets/6HgYHKYt-chapter-nav-dark.webp 200w, /assets/BnO0_Uy6-chapter-nav-dark.webp 400w, /assets/Cmxquplq-chapter-nav-dark.webp 600w, /assets/HksRBCkW-chapter-nav-dark.webp 800w, /assets/Cybx58sZ-chapter-nav-dark.webp 1200w",p=1200,u=630,m={srcSet:h,width:p,height:u};function k(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},m,void 0,3,n)}const f="/assets/BAE8BxoF-chapter-nav-light.webp 200w, /assets/BtJjRduQ-chapter-nav-light.webp 400w, /assets/DjlsBdtS-chapter-nav-light.webp 600w, /assets/fiDO754u-chapter-nav-light.webp 800w, /assets/DMhI0ub1-chapter-nav-light.webp 1200w",b=1200,g=630,w={srcSet:f,width:b,height:g};function y(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},w,void 0,3,n)}const v="/assets/usRscDQ7-mental-model-dark.webp 200w, /assets/AwO-Tya4-mental-model-dark.webp 400w, /assets/BVjQfmjC-mental-model-dark.webp 600w, /assets/Bv8SXlDW-mental-model-dark.webp 800w, /assets/qQbqZbLX-mental-model-dark.webp 1200w",x=1200,S=496,j={srcSet:v,width:x,height:S};function P(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},j,void 0,3,n)}const B="/assets/B9Yv5XIg-mental-model-light.webp 200w, /assets/C-pagTGj-mental-model-light.webp 400w, /assets/BF4PcLtl-mental-model-light.webp 600w, /assets/DCmpzYoY-mental-model-light.webp 800w, /assets/DLeLseBR-mental-model-light.webp 1200w",C=1200,O=496,T={srcSet:B,width:C,height:O};function _(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},T,void 0,3,n)}const D="/assets/6uhkcx7O-monthly-downloads.webp 200w, /assets/Bl-XkStk-monthly-downloads.webp 400w, /assets/WEZmoBHK-monthly-downloads.webp 600w, /assets/DfENG6BQ-monthly-downloads.webp 800w, /assets/3I76orXf-monthly-downloads.webp 1200w",V=1200,$=696,I={srcSet:D,width:V,height:$};function A(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},I,void 0,3,n)}const R="/assets/DoQ82rP8-object-fix-dark.webp 200w, /assets/Dl2MEwOh-object-fix-dark.webp 400w, /assets/DuZY83dP-object-fix-dark.webp 600w, /assets/D_yl3ifN-object-fix-dark.webp 800w, /assets/CxKtbTBQ-object-fix-dark.webp 1200w",M=1200,L=630,E={srcSet:R,width:M,height:L};function z(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},E,void 0,3,n)}const W="/assets/l35ADEKt-object-fix-light.webp 200w, /assets/nLUK1ZTd-object-fix-light.webp 400w, /assets/BZ7PxVHs-object-fix-light.webp 600w, /assets/D8o-uBcT-object-fix-light.webp 800w, /assets/C9yTOwd_-object-fix-light.webp 1200w",J=1200,X=630,F={srcSet:W,width:J,height:X};function K(a,n,o,i){return s("img",{decoding:"async",loading:"lazy",...a},F,void 0,3,n)}const Y=[{text:"Better API design",id:"better-api-design",level:2},{text:"Better compatibility",id:"better-compatibility",level:2},{text:"Better object schema",id:"better-object-schema",level:2},{text:"Better tree shaking",id:"better-tree-shaking",level:2},{text:"Better documentation",id:"better-documentation",level:2},{text:"Other highlights",id:"other-highlights",level:2},{text:"What's next?",id:"whats-next",level:2}],q={title:"Valibot v1 RC is now available",meta:[{name:"description",content:"Many of you have been waiting for our first stable release, and with this blog post I am happy to announce that we are very very close."}],styles:[],links:[],scripts:[],frontmatter:{cover:"Valibot v1 RC",published:"2025-02-10",authors:["fabian-hiller","EltonLobo07"]}},U={cover:"Valibot v1 RC",title:"Valibot v1 RC is now available",description:"Many of you have been waiting for our first stable release, and with this blog post I am happy to announce that we are very very close.",published:"2025-02-10",authors:["fabian-hiller","EltonLobo07"]};function N(a){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",span:"span",...d(),...a.components};return e(l,{children:[e(n.p,{children:"After taking three steps back about a year ago to rewrite the entire library from scratch, Valibot has come back stronger than ever. In the past 12 months, the project has grown from 300k monthly downloads on npm to now more than 4.5 million. Many of you have been waiting for our first stable release, and with this blog post I am happy to announce that we are very very close."}),`
`,e(A,{alt:"Monthly downloads of Valibot in the past 12 months"}),`
`,e(n.p,{children:"With this announcement post we want to look back on our work of the last months and show you the new features and functions you will enjoy when you upgrade to Valibot v1 RC."}),`
`,e(n.h2,{id:"better-api-design",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#better-api-design",children:e(n.span,{class:"icon icon-link"})}),"Better API design"]}),`
`,e(n.p,{children:["In June 2024 we released v0.31.0, introducing our new ",e(t,{href:"/api/pipe/",children:e(n.code,{children:"pipe"})})," API and massively improving Valibot's type safety. I recommend reading ",e(t,{href:"../valibot-v0.31.0-is-finally-available/",children:"the blog post"})," we published at the time to learn more. Even though it was a big change, we got a lot of positive feedback. That's why we kept ",e(t,{href:"/guides/mental-model/",children:"the new mental model"})," and have continued to improve the new API since then."]}),`
`,e(P,{alt:"Code example with a schema, method and actions",class:"hidden dark:block"}),`
`,e(_,{alt:"Code example with a schema, method and actions",class:"dark:hidden"}),`
`,e(n.h2,{id:"better-compatibility",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#better-compatibility",children:e(n.span,{class:"icon icon-link"})}),"Better compatibility"]}),`
`,e(n.p,{children:["A few months later, in September 2024, we intensified our work on ",e(n.a,{href:"https://standardschema.dev/",rel:"noreferrer",target:"_blank",children:"Standard Schema"}),". What had been just ",e(n.a,{href:"https://x.com/colinhacks/status/1634284724796661761",rel:"noreferrer",target:"_blank",children:"an idea"})," was now starting to take shape. Together with ",e(n.a,{href:"https://github.com/colinhacks",rel:"noreferrer",target:"_blank",children:"@colinhacks"}),", the creator of ",e(n.a,{href:"https://zod.dev/",rel:"noreferrer",target:"_blank",children:"Zod"}),", we developed a first draft of the specification and investigated how it could be integrated into our libraries. Later, ",e(n.a,{href:"https://github.com/ssalbdivad",rel:"noreferrer",target:"_blank",children:"@ssalbdivad"}),", the creator of ",e(n.a,{href:"https://arktype.io/",rel:"noreferrer",target:"_blank",children:"ArkType"}),", joined us to help us get the details right."]}),`
`,e(n.p,{children:"Standard Schema could be a game-changer not only for the further adoption and growth of Valibot, but also for the JavaScript ecosystem in general. If you haven't heard of it yet, you should definitely check it out. Thanks to Colin and David for this great collaboration!"}),`
`,e(n.p,{children:["Another part of our ecosystem compatibility efforts has been to develop and provide an official JSON Schema solution. Together with ",e(n.a,{href:"https://github.com/gcornut",rel:"noreferrer",target:"_blank",children:"@gcornut"}),", we created a new package called ",e(n.code,{children:"@valibot/to-json-schema"})," that can convert Valibot schemas to their JSON Schema representation. I am proud of our implementation because it is fast, highly efficient (1.67 kB gzip), and can handle complex cases such as recursion. If you are interested in this topic, please have a look at our ",e(t,{href:"/guides/json-schema/",children:"JSON Schema guide"}),"."]}),`
`,e(n.pre,{class:"language-ts",children:e(n.code,{class:"language-ts",children:[e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token punctuation",children:"{"})," toJsonSchema ",e(n.span,{class:"token punctuation",children:"}"})]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'@valibot/to-json-schema'"}),e(n.span,{class:"token punctuation",children:";"}),`
`,e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token operator",children:"*"})," ",e(n.span,{class:"token keyword module",children:"as"})," v"]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'valibot'"}),e(n.span,{class:"token punctuation",children:";"}),`

`,e(n.span,{class:"token keyword",children:"const"})," ",e(n.span,{class:"token maybe-class-name",children:"ValibotEmailSchema"})," ",e(n.span,{class:"token operator",children:"="})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),"v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"email"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:";"}),`
`,e(n.span,{class:"token keyword",children:"const"})," ",e(n.span,{class:"token maybe-class-name",children:"JsonEmailSchema"})," ",e(n.span,{class:"token operator",children:"="})," ",e(n.span,{class:"token function",children:"toJsonSchema"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token maybe-class-name",children:"ValibotEmailSchema"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:";"}),`
`,e(n.span,{class:"token comment",children:"// -> { type: 'string', format: 'email' }"}),`
`]})}),`
`,e(n.h2,{id:"better-object-schema",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#better-object-schema",children:e(n.span,{class:"icon icon-link"})}),"Better object schema"]}),`
`,e(n.p,{children:"Our initial object schema implementation was good, but not perfect. It could not distinguish between missing and present but undefined properties, resulting in mismatches between validation logic and generated TypeScript types in edge cases."}),`
`,e(n.p,{children:["Over the past few weeks, we have fixed these issues and are now able to fully support TypeScript's ",e(n.a,{href:"https://www.typescriptlang.org/tsconfig/#exactOptionalPropertyTypes",rel:"noreferrer",target:"_blank",children:[e(n.code,{children:"exactOptionalPropertyTypes"})," configuration"]}),". We also fixed the order of optional properties in the generated TypeScript types. Thanks to ",e(n.a,{href:"https://github.com/andersk",rel:"noreferrer",target:"_blank",children:"@andersk"})," for driving this effort!"]}),`
`,e(z,{alt:"Code example showing the order fix of optional object properties",class:"hidden dark:block"}),`
`,e(K,{alt:"Code example showing the order fix of optional object properties",class:"dark:hidden"}),`
`,e(n.h2,{id:"better-tree-shaking",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#better-tree-shaking",children:e(n.span,{class:"icon icon-link"})}),"Better tree shaking"]}),`
`,e(n.p,{children:[e(n.a,{href:"https://github.com/antfu",rel:"noreferrer",target:"_blank",children:"@antfu"})," himself created ",e(n.a,{href:"https://github.com/fabian-hiller/valibot/pull/995",rel:"noreferrer",target:"_blank",children:"a PR"})," in December 2024 to further improve Valibot's tree shaking capabilities. If you use some of your schemas only for their TypeScript type but not at runtime, for example to validate unknown data, they can now be fully tree-shaken and excluded from your production build, reducing the bundle size of your application even further."]}),`
`,e(n.h2,{id:"better-documentation",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#better-documentation",children:e(n.span,{class:"icon icon-link"})}),"Better documentation"]}),`
`,e(n.p,{children:`A few weeks ago we made some nice UI and UX improvements to Valibot's documentation and playground. For example, there is now a "play" button to open the code snippets of our guides directly in our playground. Also, you can now enable chapter navigation in Valibot's documentation to make it easier to navigate through the content of a large page.`}),`
`,e(k,{alt:"Screenshot of our new chapter navigation feature",class:"hidden dark:block"}),`
`,e(y,{alt:"Screenshot of our new chapter navigation feature",class:"dark:hidden"}),`
`,e(n.p,{children:["I would also like to point out that ",e(n.a,{href:"https://github.com/EltonLobo07",rel:"noreferrer",target:"_blank",children:"@EltonLobo07"})," finalized the last pages of our ",e(t,{href:"/api/",children:"API reference"}),". With more than 600 pages, this was a huge effort driven by several community members over the last year. Thanks to everyone who contributed!"]}),`
`,e(n.h2,{id:"other-highlights",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#other-highlights",children:e(n.span,{class:"icon icon-link"})}),"Other highlights"]}),`
`,e(n.p,{children:["In addition to these bigger changes, we shipped many new functions and improved the implementation of existing ones. For example, we added a ",e(t,{href:"/api/function/",children:e(n.code,{children:"function"})})," and ",e(t,{href:"/api/promise/",children:e(n.code,{children:"promise"})})," schema along with ",e(t,{href:"/api/args/",children:e(n.code,{children:"args"})}),", ",e(t,{href:"/api/returns/",children:e(n.code,{children:"returns"})}),", and ",e(t,{href:"/api/awaitAsync/",children:e(n.code,{children:"awaitAsync"})})," actions to support validation of JavaScript functions and promises."]}),`
`,e(n.p,{children:["We also shipped a ",e(t,{href:"/api/rawCheck/",children:e(n.code,{children:"rawCheck"})})," and ",e(t,{href:"/api/rawTransform/",children:e(n.code,{children:"rawTransform"})})," action to give you full control in edge cases. They allow you to hook into the raw implementation of ",e(t,{href:"/api/pipe/",children:e(n.code,{children:"pipe"})})," to write advanced validation and transformation logic."]}),`
`,e(n.p,{children:["Another cool addition to Valibot's capabilities is our new ",e(t,{href:"/guides/pipelines/#metadata",children:"metadata feature"}),". This is especially useful for documentation purposes and for deep integration of the schema library with other libraries. For example, an ORM could now provide its own metadata actions such as ",e(n.code,{children:"table"}),", ",e(n.code,{children:"primaryKey"})," and ",e(n.code,{children:"index"})," built on top of Valibot instead of writing everything from scratch."]}),`
`,e(n.pre,{class:"language-ts",children:e(n.code,{class:"language-ts",children:[e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token operator",children:"*"})," ",e(n.span,{class:"token keyword module",children:"as"})," o"]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'orm-actions'"}),e(n.span,{class:"token punctuation",children:";"}),`
`,e(n.span,{class:"token keyword module",children:"import"})," ",e(n.span,{class:"token imports",children:[e(n.span,{class:"token operator",children:"*"})," ",e(n.span,{class:"token keyword module",children:"as"})," v"]})," ",e(n.span,{class:"token keyword module",children:"from"})," ",e(n.span,{class:"token string",children:"'valibot'"}),e(n.span,{class:"token punctuation",children:";"}),`

`,e(n.span,{class:"token keyword",children:"const"})," ",e(n.span,{class:"token maybe-class-name",children:"UserTableSchema"})," ",e(n.span,{class:"token operator",children:"="})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),`
  v`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"object"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:"{"}),`
    id`,e(n.span,{class:"token operator",children:":"})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),"v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"number"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"integer"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," o",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"primaryKey"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    name`,e(n.span,{class:"token operator",children:":"})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),"v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"nonEmpty"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," o",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"index"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    email`,e(n.span,{class:"token operator",children:":"})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"pipe"}),e(n.span,{class:"token punctuation",children:"("}),"v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"string"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," v",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"email"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","})," o",e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"index"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
    `,e(n.span,{class:"token comment",children:"// ..."}),`
  `,e(n.span,{class:"token punctuation",children:"}"}),e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:","}),`
  o`,e(n.span,{class:"token punctuation",children:"."}),e(n.span,{class:"token method function property-access",children:"table"}),e(n.span,{class:"token punctuation",children:"("}),e(n.span,{class:"token string",children:"'users'"}),e(n.span,{class:"token punctuation",children:")"}),`
`,e(n.span,{class:"token punctuation",children:")"}),e(n.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,e(n.p,{children:["There are many more new exciting functions like ",e(t,{href:"/api/assert/",children:e(n.code,{children:"assert"})}),", ",e(t,{href:"/api/rfcEmail/",children:e(n.code,{children:"rfcEmail"})})," and ",e(t,{href:"/api/maxWords/",children:e(n.code,{children:"maxWords"})}),". Please have a look at ",e(n.a,{href:"https://github.com/fabian-hiller/valibot/releases/tag/v1.0.0-rc.0",rel:"noreferrer",target:"_blank",children:"the release on GitHub"})," and our ",e(t,{href:"/api/",children:"API reference"})," for more details."]}),`
`,e(n.h2,{id:"whats-next",children:[e(n.a,{"aria-hidden":"true",tabindex:"-1",href:"#whats-next",children:e(n.span,{class:"icon icon-link"})}),"What's next?"]}),`
`,e(n.p,{children:["Many more validation actions like ",e(n.code,{children:"ltValue"}),", ",e(n.code,{children:"gtValue"}),", ",e(n.code,{children:"values"}),", ",e(n.code,{children:"notValues"}),", ",e(n.code,{children:"slug"}),", ",e(n.code,{children:"toSnakeCase"})," and ",e(n.code,{children:"btcAddress"})," are already implemented and will be reviewed and merged soon. This shows the great advantage of a modular architecture, as we can add more and more features without increasing the size of your individual bundle. One day, everything you need will be just a Valibot action away. ðŸ˜Ž"]}),`
`,e(n.p,{children:"We expect Valibot to reach v1 in 3 to 6 weeks. Please upgrade now to give us lots of feedback in the meantime. An official migration guide will be available soon, but most of you who are already on >=v0.31.0 will most likely be able to upgrade without touching any existing code."})]})}const G=(a={})=>{const n=r(c,{children:r(N,a,3,null)},3,"byf4G_7h");return typeof MDXLayout=="function"?e(MDXLayout,{children:n}):n};export{G as default,U as frontmatter,q as head,Y as headings};
